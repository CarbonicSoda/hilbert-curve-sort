(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(c){if(c.ep)return;c.ep=!0;const l=n(c);fetch(c.href,l)}})();const O=i=>[...Array(1<<i).keys()].map(r=>r^r>>1),Z=O(2),W=O(3);function z(i){let[r,n]=[1/0,1/0],[s,c]=[-1/0,-1/0];for(const[m,d]of i)[r,n]=[Math.min(m,r),Math.min(d,n)],[s,c]=[Math.max(m,s),Math.max(d,c)];const l=s-r,a=c-n,t=Math.max(l,a),e=t===0||l===0?1:t/l,o=t===0||a===0?1:t/a,u=i.map(([m,d])=>[e*(m-r),o*(d-n)]);return P(u,t).map(([m,d])=>[m/e+r,d/o+n])}function G(i){let[r,n,s]=[1/0,1/0,1/0],[c,l,a]=[-1/0,-1/0,-1/0];for(const[p,h,g]of i)[r,n,s]=[Math.min(p,r),Math.min(h,n),Math.min(g,s)],[c,l,a]=[Math.max(p,c),Math.max(h,l),Math.max(g,a)];const t=c-r,e=l-n,o=a-s,u=Math.max(t,e,o),m=u===0||t===0?1:u/t,d=u===0||e===0?1:u/e,I=u===0||o===0?1:u/o,H=i.map(([p,h,g])=>[m*(p-r),d*(h-n),I*(g-s)]);return E(H,u).map(([p,h,g])=>[p/m+r,h/d+n,g/I+s])}function P(i,r){if(i.length<2||new Set(i.map(String)).size===1)return i;const n=r/2,s={0:([t,e])=>[e,t],1:([t,e])=>[t,e-n],3:([t,e])=>[t-n,e-n],2:([t,e])=>[n-e,r-t]},c={0:([t,e])=>[e,t],1:([t,e])=>[t,e+n],3:([t,e])=>[t+n,e+n],2:([t,e])=>[r-e,n-t]},l=[[],[],[],[]];for(const t of i){const e=+(t[0]>n),o=+(t[1]>n),u=(e<<1)+o;l[u].push(t)}const a=l.map((t,e)=>P(t.map(s[e]),n));return Z.flatMap(t=>a[t].map(c[t]))}function E(i,r){if(i.length<2||new Set(i.map(String)).size===1)return i;const n=r/2,s={0:([t,e,o])=>[o,t,e],1:([t,e,o])=>[e,o-n,t],3:([t,e,o])=>[e-n,o-n,t],2:([t,e,o])=>[t,r-e,n-o],6:([t,e,o])=>[t-n,r-e,n-o],7:([t,e,o])=>[r-e,o-n,r-t],5:([t,e,o])=>[n-e,o-n,r-t],4:([t,e,o])=>[n-o,r-t,e]},c={0:([t,e,o])=>[e,o,t],1:([t,e,o])=>[o,t,e+n],3:([t,e,o])=>[o,t+n,e+n],2:([t,e,o])=>[t,r-e,n-o],6:([t,e,o])=>[t+n,r-e,n-o],7:([t,e,o])=>[r-o,r-t,e+n],5:([t,e,o])=>[r-o,n-t,e+n],4:([t,e,o])=>[r-e,o,n-t]},l=[[],[],[],[],[],[],[],[]];for(const t of i){const e=+(t[0]>n),o=+(t[1]>n),u=+(t[2]>n),m=(e<<2)+(o<<1)+u;l[m].push(t)}const a=l.map((t,e)=>E(t.map(s[e]),n));return W.flatMap(t=>a[t].map(c[t]))}const S=(i,r)=>Math.random()*(r-i)+i,$=window.innerWidth,T=window.innerHeight,Y=document.querySelector("#pts2d-demo canvas"),N=document.querySelector("#pts2d-actions textarea"),_=document.querySelector("#pts2d-set"),j=document.querySelector("#pts2d-actions input"),k=document.querySelector("#pts2d-random"),b=Y.getContext("2d"),f=$*.45;Y.setAttribute("width",String(f));Y.setAttribute("height",String(f));function D(i){b.clearRect(0,0,f,f);const r=z(i);b.beginPath();for(let[n,s]of r)s=f-s,r.length<=500&&b.fillRect(n-4,s-4,8,8),b.lineTo(n,s);b.stroke()}function w(i){const r=(i??N.value).trim().split(`
`).map(e=>e.split(" ").map(Number)).filter(e=>e.length===2&&e.every(Number.isFinite));if(r.length<2){w(N.getAttribute("placeholder"));return}let[n,s]=r[0],[c,l]=r[0];for(const[e,o]of r)e<n?n=e:e>c&&(c=e),o<s?s=o:o>l&&(l=o);let a=(f-40)/(c-n),t=(f-40)/(l-s);(a===0||!Number.isFinite(a))&&(a=1),(t===0||!Number.isFinite(t))&&(t=1),D(r.map(([e,o])=>[a*(e-n)+20,t*(o-s)+20]))}_.addEventListener("click",()=>w());k.addEventListener("click",()=>{let i=Number(j.value);i||(i=100);const r=[...Array(i)].map(()=>[S(0,f),S(0,f)]);D(r)});N.setAttribute("placeholder",`0 0
0 1
1 0
1 1`);w();const q=document.querySelector("#colors-original"),R=document.querySelector("#colors-sorted"),v=document.querySelector("#colors-actions textarea"),V=document.querySelector("#colors-set"),K=document.querySelector("#colors-actions input"),U=document.querySelector("#colors-random"),M=q.getContext("2d"),A=R.getContext("2d"),x=$*.9,y=T*.1;q.setAttribute("width",String(x));q.setAttribute("height",String(y));R.setAttribute("width",String(x));R.setAttribute("height",String(y));function F(i){M.clearRect(0,0,x,y),A.clearRect(0,0,x,y);const r=x/i.length;for(let s=0;s<i.length;s++){const[c,l,a]=i[s];M.fillStyle=`rgb(${c} ${l} ${a})`,M.fillRect(s*r,0,r+1,y)}const n=G(i);for(let s=0;s<n.length;s++){const[c,l,a]=n[s];A.fillStyle=`rgb(${c} ${l} ${a})`,A.fillRect(s*r,0,r+1,y)}}function X(i){const r=(i??v.value).trim().split(`
`).map(n=>n.split(" ").map(Number)).filter(n=>n.length===3&&n.every(Number.isFinite));if(r.length<2){X(v.getAttribute("placeholder"));return}F(r)}V.addEventListener("click",()=>X());function B(i){return[...Array(i)].map(()=>[S(0,255),S(0,255),S(0,255)])}U.addEventListener("click",()=>{let i=Number(K.value);i||(i=100),F(B(i))});const L=50,C=[...Array(Math.trunc(255/L)+1).keys()].map(i=>L*i),J=C.flatMap(i=>C.flatMap(r=>C.map(n=>[i,r,n])));v.setAttribute("placeholder",J.map(i=>i.join(" ")).join(`
`));X();
