(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(c){if(c.ep)return;c.ep=!0;const l=n(c);fetch(c.href,l)}})();const O=o=>[...Array(1<<o).keys()].map(r=>r^r>>1),H=O(2),T=O(3);async function j(o){let[r,n]=o[0],[s,c]=o[0];for(let u=1;u<o.length;u++){const[m,f]=o[u];m<r?r=m:m>s&&(s=m),f<n?n=f:f>c&&(c=f)}const l=s-r,a=c-n,t=Math.max(l,a);let e=t/l,i=t/a;(e===0||!Number.isFinite(e))&&(e=1),(i===0||!Number.isFinite(i))&&(i=1);const d=o.map(([u,m])=>[e*(u-r),i*(m-n)]);return(await $(d,t)).map(([u,m])=>[u/e+r,m/i+n])}async function k(o){let[r,n,s]=o[0],[c,l,a]=o[0];for(let y=1;y<o.length;y++){const[g,h,w]=o[y];g<r?r=g:g>c&&(c=g),h<n?n=h:h>l&&(l=h),w<s?s=w:w>a&&(a=w)}const t=c-r,e=l-n,i=a-s,d=Math.max(t,e,i);let u=d/t,m=d/e,f=d/i;(u===0||!Number.isFinite(u))&&(u=1),(m===0||!Number.isFinite(m))&&(m=1),(f===0||!Number.isFinite(f))&&(f=1);const z=o.map(([y,g,h])=>[u*(y-r),m*(g-n),f*(h-s)]);return(await E(z,d)).map(([y,g,h])=>[y/u+r,g/m+n,h/f+s])}async function $(o,r){if(o.length<2||new Set(o.map(String)).size===1)return o;const n=r/2,s={0:([t,e])=>[e,t],1:([t,e])=>[t,e-n],3:([t,e])=>[t-n,e-n],2:([t,e])=>[n-e,r-t]},c={0:([t,e])=>[e,t],1:([t,e])=>[t,e+n],3:([t,e])=>[t+n,e+n],2:([t,e])=>[r-e,n-t]},l=[[],[],[],[]];for(const t of o){const e=+(t[0]>n),i=+(t[1]>n),d=(e<<1)+i;l[d].push(t)}const a=await Promise.all(l.map(async(t,e)=>await $(t.map(s[e]),n)));return H.flatMap(t=>a[t].map(c[t]))}async function E(o,r){if(o.length<2||new Set(o.map(String)).size===1)return o;const n=r/2,s={0:([t,e,i])=>[i,t,e],1:([t,e,i])=>[e,i-n,t],3:([t,e,i])=>[e-n,i-n,t],2:([t,e,i])=>[t,r-e,n-i],6:([t,e,i])=>[t-n,r-e,n-i],7:([t,e,i])=>[r-e,i-n,r-t],5:([t,e,i])=>[n-e,i-n,r-t],4:([t,e,i])=>[n-i,r-t,e]},c={0:([t,e,i])=>[e,i,t],1:([t,e,i])=>[i,t,e+n],3:([t,e,i])=>[i,t+n,e+n],2:([t,e,i])=>[t,r-e,n-i],6:([t,e,i])=>[t+n,r-e,n-i],7:([t,e,i])=>[r-i,r-t,e+n],5:([t,e,i])=>[r-i,n-t,e+n],4:([t,e,i])=>[r-e,i,n-t]},l=[[],[],[],[],[],[],[],[]];for(const t of o){const e=+(t[0]>n),i=+(t[1]>n),d=+(t[2]>n),u=(e<<2)+(i<<1)+d;l[u].push(t)}const a=await Promise.all(l.map(async(t,e)=>await E(t.map(s[e]),n)));return T.flatMap(t=>a[t].map(c[t]))}const x=(o,r)=>Math.random()*(r-o)+o,Z=window.innerWidth,G=window.innerHeight,R=document.querySelector("#pts2d-demo canvas"),q=document.querySelector("#pts2d-actions textarea"),V=document.querySelector("#pts2d-set"),I=document.querySelector("#pts2d-actions input"),K=document.querySelector("#pts2d-random"),S=R.getContext("2d"),p=Z*.45;R.setAttribute("width",String(p));R.setAttribute("height",String(p));async function W(o){S.clearRect(0,0,p,p);const r=await j(o);S.beginPath();for(let[n,s]of r)s=p-s,r.length<=500&&S.fillRect(n-4,s-4,8,8),S.lineTo(n,s);S.stroke()}function v(o){const r=(o??q.value).trim().split(`
`).map(e=>e.split(" ").map(Number)).filter(e=>e.length===2&&e.every(Number.isFinite));if(r.length<2){v(q.getAttribute("placeholder"));return}let[n,s]=r[0],[c,l]=r[0];for(const[e,i]of r)e<n?n=e:e>c&&(c=e),i<s?s=i:i>l&&(l=i);let a=(p-40)/(c-n),t=(p-40)/(l-s);(a===0||!Number.isFinite(a))&&(a=1),(t===0||!Number.isFinite(t))&&(t=1),W(r.map(([e,i])=>[a*(e-n)+20,t*(i-s)+20]))}V.addEventListener("click",()=>v());K.addEventListener("click",()=>{let o=Number(I.value);o||(o=100);const r=[...Array(o)].map(()=>[x(0,p),x(0,p)]);W(r)});q.setAttribute("placeholder",`0 0
0 1
1 0
1 1`);v();const M=document.querySelector("#colors-original"),F=document.querySelector("#colors-sorted"),X=document.querySelector("#colors-actions textarea"),U=document.querySelector("#colors-set"),B=document.querySelector("#colors-actions input"),D=document.querySelector("#colors-random"),A=M.getContext("2d"),C=F.getContext("2d"),N=Z*.9,b=G*.1;M.setAttribute("width",String(N));M.setAttribute("height",String(b));F.setAttribute("width",String(N));F.setAttribute("height",String(b));async function _(o){A.clearRect(0,0,N,b),C.clearRect(0,0,N,b);const r=N/o.length;for(let s=0;s<o.length;s++){const[c,l,a]=o[s];A.fillStyle=`rgb(${c} ${l} ${a})`,A.fillRect(s*r,0,r+1,b)}const n=await k(o);for(let s=0;s<n.length;s++){const[c,l,a]=n[s];C.fillStyle=`rgb(${c} ${l} ${a})`,C.fillRect(s*r,0,r+1,b)}}function L(o){const r=(o??X.value).trim().split(`
`).map(n=>n.split(" ").map(Number)).filter(n=>n.length===3&&n.every(Number.isFinite));if(r.length<2){L(X.getAttribute("placeholder"));return}_(r)}U.addEventListener("click",()=>L());function J(o){return[...Array(o)].map(()=>[x(0,255),x(0,255),x(0,255)])}D.addEventListener("click",()=>{let o=Number(B.value);o||(o=100),_(J(o))});const P=50,Y=[...Array(Math.trunc(255/P)+1).keys()].map(o=>P*o),Q=Y.flatMap(o=>Y.flatMap(r=>Y.map(n=>[o,r,n])));X.setAttribute("placeholder",Q.map(o=>o.join(" ")).join(`
`));L();
