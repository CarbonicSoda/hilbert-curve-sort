(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function T(r){const[e,n]=y(r,0),[l,i]=y(r,1),s=n-e,a=i-l,t=Math.max(s,a),o=t===0||s===0?1:t/s,c=t===0||a===0?1:t/a,m=r.map(([u,d])=>[o*(u-e),c*(d-l)]);return $(m,t).map(([u,d])=>[u/o+e,d/c+l])}function G(r){const[e,n]=y(r,0),[l,i]=y(r,1),[s,a]=y(r,2),t=n-e,o=i-l,c=a-s,m=Math.max(t,o,c),u=m===0||t===0?1:m/t,d=m===0||o===0?1:m/o,v=m===0||c===0?1:m/c,K=r.map(([I,B,w])=>[u*(I-e),d*(B-l),v*(w-s)]);return A(K,m).map(([I,B,w])=>[I/u+e,B/d+l,w/v+s])}function y(r,e){let n=1/0,l=-1/0;for(const i of r){const s=i[e];if(s<n){n=s;continue}s>l&&(l=s)}return[n,l]}function R(r){return[...Array(1<<r).keys()].map(e=>e^e>>1)}function $(r,e){if(J(r))return r;const n=e/2,l={0:([t,o])=>[o,t],1:([t,o])=>[t,o-n],3:([t,o])=>[t-n,o-n],2:([t,o])=>[n-o,e-t]},i={0:([t,o])=>[o,t],1:([t,o])=>[t,o+n],3:([t,o])=>[t+n,o+n],2:([t,o])=>[e-o,n-t]},s=[[],[],[],[]];for(const t of r){const o=+(t[0]>n),c=+(t[1]>n),m=(o<<1)+c;s[m].push(t)}const a=s.map((t,o)=>$(t.map(l[o]),n));return R(2).flatMap(t=>a[t].map(i[t]))}function A(r,e){if(Q(r))return r;const n=e/2,l={0:([t,o,c])=>[c,t,o],1:([t,o,c])=>[o,c-n,t],3:([t,o,c])=>[o-n,c-n,t],2:([t,o,c])=>[t,e-o,n-c],6:([t,o,c])=>[t-n,e-o,n-c],7:([t,o,c])=>[e-o,c-n,e-t],5:([t,o,c])=>[n-o,c-n,e-t],4:([t,o,c])=>[n-c,e-t,o]},i={0:([t,o,c])=>[o,c,t],1:([t,o,c])=>[c,t,o+n],3:([t,o,c])=>[c,t+n,o+n],2:([t,o,c])=>[t,e-o,n-c],6:([t,o,c])=>[t+n,e-o,n-c],7:([t,o,c])=>[e-c,e-t,o+n],5:([t,o,c])=>[e-c,n-t,o+n],4:([t,o,c])=>[e-o,c,n-t]},s=[[],[],[],[],[],[],[],[]];for(const t of r){const o=+(t[0]>n),c=+(t[1]>n),m=+(t[2]>n),u=(o<<2)+(c<<1)+m;s[u].push(t)}const a=s.map((t,o)=>A(t.map(l[o]),n));return R(3).flatMap(t=>a[t].map(i[t]))}function J(r){if(r.length<2)return!0;const e=r[0];return r.slice(1).every(n=>n[0]===e[0]&&n[1]===e[1])}function Q(r){if(r.length<2)return!0;const e=r[0];return r.slice(1).every(n=>n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2])}function O(r,e){let n=1/0,l=-1/0;for(const i of r){const s=i[e];if(s<n){n=s;continue}s>l&&(l=s)}return[n,l]}function g(r,e){return Math.random()*(e-r)+r}const M=document.getElementById("points-canvas"),D=document.getElementById("points-input"),U=document.getElementById("points-set"),z=document.getElementById("points-number"),V=document.getElementById("points-random"),f=document.documentElement.clientWidth*.35;M.width=f;M.height=f;const x=M.getContext("2d");if(!x)throw new Error("missing canvas context");function j(r,e){const n=T(e),[l,i]=O(n,0),[s,a]=O(n,1),t=(f-10)/(i-l),o=(f-10)/(a-s);r.clearRect(0,0,f,f),r.beginPath();const c=n.map(([m,u])=>[t*(m-l)+5,o*(u-s)+5]);for(const[m,u]of c)r.lineTo(m,f-u);r.stroke()}function k(r){const e=D.value.trim().split(`
`).map(n=>n.split(",").map(l=>+l.trim())).filter(n=>n.length===2);e.length<3||j(r,e)}U.addEventListener("click",()=>{k(x)});V.addEventListener("click",()=>{let r=+z.value;(r<3||Number.isNaN(r))&&(r=200);const e=[...Array(r)].map(()=>[g(0,f),g(0,f)]);j(x,e)});z.value="200";const X=5,C=[...Array(1<<X).keys()];D.textContent=C.flatMap(r=>C.map(e=>[r,e].join(","))).join(`
`);k(x);const S=document.getElementById("colors-original"),L=document.getElementById("colors-sorted"),F=document.getElementById("colors-input"),Y=document.getElementById("colors-set"),W=document.getElementById("colors-number"),Z=document.getElementById("colors-random"),h=document.documentElement.clientWidth,p=100;S.width=h;L.width=h;S.height=p;L.height=p;const b=S.getContext("2d"),E=L.getContext("2d");if(!b||!E)throw new Error("missing canvas context");function q(r,e,n){const l=G(n),i=h/n.length;r.clearRect(0,0,h,p);for(let s=0;s<n.length;s++){const[a,t,o]=n[s].map(c=>c.toFixed(2));r.fillStyle=`rgb(${a} ${t} ${o})`,r.fillRect(s*i,0,i+1,p)}e.clearRect(0,0,h,p);for(let s=0;s<l.length;s++){const[a,t,o]=l[s].map(c=>c.toFixed(2));e.fillStyle=`rgb(${a} ${t} ${o})`,e.fillRect(s*i,0,i+1,p)}}function H(r,e){const n=F.value.trim().split(`
`).map(l=>l.split(",").map(i=>+i.trim())).filter(l=>l.length===3);n.length<3||q(r,e,n)}Y.addEventListener("click",()=>{H(b,E)});Z.addEventListener("click",()=>{let r=+W.value;(r<3||Number.isNaN(r))&&(r=100);const e=[...Array(r)].map(()=>[g(0,255),g(0,255),g(0,255)]);q(b,E,e)});W.value="100";const P=32,N=[...Array(Math.ceil(255/P)).keys()].map(r=>r*P);F.textContent=N.flatMap(r=>N.flatMap(e=>N.map(n=>[r,e,n].join(",")))).join(`
`);H(b,E);
