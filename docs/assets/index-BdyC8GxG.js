(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const K=[0,1,3,2],T=[0,1,3,2,6,7,5,4];function y(e,r){let n=1/0,l=-1/0;for(const i of e){const s=i[r];if(s<n){n=s;continue}s>l&&(l=s)}return[n,l]}function G(e){const[r,n]=y(e,0),[l,i]=y(e,1),s=n-r,a=i-l,t=Math.max(s,a),o=t===0||s===0?1:t/s,c=t===0||a===0?1:t/a,m=e.map(([u,d])=>[o*(u-r),c*(d-l)]);return R(m,t).map(([u,d])=>[u/o+r,d/c+l])}function R(e,r){if(J(e))return e;const n=r/2,l={0:([t,o])=>[o,t],1:([t,o])=>[t,o-n],3:([t,o])=>[t-n,o-n],2:([t,o])=>[n-o,r-t]},i={0:([t,o])=>[o,t],1:([t,o])=>[t,o+n],3:([t,o])=>[t+n,o+n],2:([t,o])=>[r-o,n-t]},s=[[],[],[],[]];for(const t of e){const o=+(t[0]>n),c=+(t[1]>n),m=(o<<1)+c;s[m].push(t)}const a=s.map((t,o)=>R(t.map(l[o]),n));return K.flatMap(t=>a[t].map(i[t]))}function J(e){if(e.length<2)return!0;const r=e[0];return e.slice(1).every(n=>n[0]===r[0]&&n[1]===r[1])}function Q(e){const[r,n]=y(e,0),[l,i]=y(e,1),[s,a]=y(e,2),t=n-r,o=i-l,c=a-s,m=Math.max(t,o,c),u=m===0||t===0?1:m/t,d=m===0||o===0?1:m/o,v=m===0||c===0?1:m/c,H=e.map(([I,B,w])=>[u*(I-r),d*(B-l),v*(w-s)]);return $(H,m).map(([I,B,w])=>[I/u+r,B/d+l,w/v+s])}function $(e,r){if(U(e))return e;const n=r/2,l={0:([t,o,c])=>[c,t,o],1:([t,o,c])=>[o,c-n,t],3:([t,o,c])=>[o-n,c-n,t],2:([t,o,c])=>[t,r-o,n-c],6:([t,o,c])=>[t-n,r-o,n-c],7:([t,o,c])=>[r-o,c-n,r-t],5:([t,o,c])=>[n-o,c-n,r-t],4:([t,o,c])=>[n-c,r-t,o]},i={0:([t,o,c])=>[o,c,t],1:([t,o,c])=>[c,t,o+n],3:([t,o,c])=>[c,t+n,o+n],2:([t,o,c])=>[t,r-o,n-c],6:([t,o,c])=>[t+n,r-o,n-c],7:([t,o,c])=>[r-c,r-t,o+n],5:([t,o,c])=>[r-c,n-t,o+n],4:([t,o,c])=>[r-o,c,n-t]},s=[[],[],[],[],[],[],[],[]];for(const t of e){const o=+(t[0]>n),c=+(t[1]>n),m=+(t[2]>n),u=(o<<2)+(c<<1)+m;s[u].push(t)}const a=s.map((t,o)=>$(t.map(l[o]),n));return T.flatMap(t=>a[t].map(i[t]))}function U(e){if(e.length<2)return!0;const r=e[0];return e.slice(1).every(n=>n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2])}function O(e,r){let n=1/0,l=-1/0;for(const i of e){const s=i[r];if(s<n){n=s;continue}s>l&&(l=s)}return[n,l]}function g(e,r){return Math.random()*(r-e)+e}const M=document.getElementById("points-canvas"),D=document.getElementById("points-input"),V=document.getElementById("points-set"),z=document.getElementById("points-number"),X=document.getElementById("points-random"),f=document.documentElement.clientWidth*.4;M.width=f;M.height=f;const x=M.getContext("2d");if(!x)throw new Error("missing canvas context");function A(e,r){const n=G(r),[l,i]=O(n,0),[s,a]=O(n,1),t=(f-10)/(i-l),o=(f-10)/(a-s);e.clearRect(0,0,f,f),e.beginPath();const c=n.map(([m,u])=>[t*(m-l)+5,o*(u-s)+5]);for(const[m,u]of c)e.lineTo(m,f-u);e.stroke()}function j(e){const r=D.value.trim().split(`
`).map(n=>n.split(",").map(l=>+l.trim())).filter(n=>n.length===2);r.length<3||A(e,r)}V.addEventListener("click",()=>{j(x)});X.addEventListener("click",()=>{let e=+z.value;(e<3||Number.isNaN(e))&&(e=200);const r=[...Array(e)].map(()=>[g(0,f),g(0,f)]);A(x,r)});z.value="200";const Y=5,C=[...Array(1<<Y).keys()];D.textContent=C.flatMap(e=>C.map(r=>[e,r].join(","))).join(`
`);j(x);const S=document.getElementById("colors-original"),L=document.getElementById("colors-sorted"),F=document.getElementById("colors-input"),Z=document.getElementById("colors-set"),W=document.getElementById("colors-number"),_=document.getElementById("colors-random"),h=document.documentElement.clientWidth,p=100;S.width=h;L.width=h;S.height=p;L.height=p;const b=S.getContext("2d"),E=L.getContext("2d");if(!b||!E)throw new Error("missing canvas context");function k(e,r,n){const l=Q(n),i=h/n.length;e.clearRect(0,0,h,p);for(let s=0;s<n.length;s++){const[a,t,o]=n[s].map(c=>c.toFixed(2));e.fillStyle=`rgb(${a} ${t} ${o})`,e.fillRect(s*i,0,i+1,p)}r.clearRect(0,0,h,p);for(let s=0;s<l.length;s++){const[a,t,o]=l[s].map(c=>c.toFixed(2));r.fillStyle=`rgb(${a} ${t} ${o})`,r.fillRect(s*i,0,i+1,p)}}function q(e,r){const n=F.value.trim().split(`
`).map(l=>l.split(",").map(i=>+i.trim())).filter(l=>l.length===3);n.length<3||k(e,r,n)}Z.addEventListener("click",()=>{q(b,E)});_.addEventListener("click",()=>{let e=+W.value;(e<3||Number.isNaN(e))&&(e=100);const r=[...Array(e)].map(()=>[g(0,255),g(0,255),g(0,255)]);k(b,E,r)});W.value="100";const P=32,N=[...Array(Math.ceil(255/P)).keys()].map(e=>e*P);F.textContent=N.flatMap(e=>N.flatMap(r=>N.map(n=>[e,r,n].join(",")))).join(`
`);q(b,E);
