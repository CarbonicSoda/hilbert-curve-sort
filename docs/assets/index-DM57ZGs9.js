(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function f(r,e){let n=1/0,l=-1/0;for(const i of r){const c=i[e];if(c<n){n=c;continue}c>l&&(l=c)}return[n,l]}function K(r){const[e,n]=f(r,0),[l,i]=f(r,1),c=n-e,a=i-l,t=Math.max(c,a),o=t===0||c===0?1:t/c,s=t===0||a===0?1:t/a,m=r.map(([u,p])=>[o*(u-e),s*(p-l)]);return R(m,t).map(([u,p])=>[u/o+e,p/s+l])}function T(r){const[e,n]=f(r,0),[l,i]=f(r,1),[c,a]=f(r,2),t=n-e,o=i-l,s=a-c,m=Math.max(t,o,s),u=m===0||t===0?1:m/t,p=m===0||o===0?1:m/o,O=m===0||s===0?1:m/s,H=r.map(([I,B,w])=>[u*(I-e),p*(B-l),O*(w-c)]);return A(H,m).map(([I,B,w])=>[I/u+e,B/p+l,w/O+c])}function P(r){return[...Array(1<<r).keys()].map(e=>e^e>>1)}function R(r,e){if(G(r))return r;const n=e/2,l={0:([t,o])=>[o,t],1:([t,o])=>[t,o-n],3:([t,o])=>[t-n,o-n],2:([t,o])=>[n-o,e-t]},i={0:([t,o])=>[o,t],1:([t,o])=>[t,o+n],3:([t,o])=>[t+n,o+n],2:([t,o])=>[e-o,n-t]},c=[[],[],[],[]];for(const t of r){const o=+(t[0]>n),s=+(t[1]>n),m=(o<<1)+s;c[m].push(t)}const a=c.map((t,o)=>R(t.map(l[o]),n));return P(2).flatMap(t=>a[t].map(i[t]))}function A(r,e){if(J(r))return r;const n=e/2,l={0:([t,o,s])=>[s,t,o],1:([t,o,s])=>[o,s-n,t],3:([t,o,s])=>[o-n,s-n,t],2:([t,o,s])=>[t,e-o,n-s],6:([t,o,s])=>[t-n,e-o,n-s],7:([t,o,s])=>[e-o,s-n,e-t],5:([t,o,s])=>[n-o,s-n,e-t],4:([t,o,s])=>[n-s,e-t,o]},i={0:([t,o,s])=>[o,s,t],1:([t,o,s])=>[s,t,o+n],3:([t,o,s])=>[s,t+n,o+n],2:([t,o,s])=>[t,e-o,n-s],6:([t,o,s])=>[t+n,e-o,n-s],7:([t,o,s])=>[e-s,e-t,o+n],5:([t,o,s])=>[e-s,n-t,o+n],4:([t,o,s])=>[e-o,s,n-t]},c=[[],[],[],[],[],[],[],[]];for(const t of r){const o=+(t[0]>n),s=+(t[1]>n),m=+(t[2]>n),u=(o<<2)+(s<<1)+m;c[u].push(t)}const a=c.map((t,o)=>A(t.map(l[o]),n));return P(3).flatMap(t=>a[t].map(i[t]))}function G(r){if(r.length<2)return!0;const e=r[0];return r.slice(1).every(n=>n[0]===e[0]&&n[1]===e[1])}function J(r){if(r.length<2)return!0;const e=r[0];return r.slice(1).every(n=>n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2])}function g(r,e){return Math.random()*(e-r)+r}const M=document.getElementById("points-canvas"),D=document.getElementById("points-input"),Q=document.getElementById("points-set"),$=document.getElementById("points-number"),U=document.getElementById("points-random"),d=document.documentElement.clientWidth*.35;M.width=d;M.height=d;const x=M.getContext("2d");if(!x)throw new Error("missing canvas context");function z(r,e){const n=K(e),[l,i]=f(n,0),[c,a]=f(n,1),t=(d-10)/(i-l),o=(d-10)/(a-c);r.clearRect(0,0,d,d),r.beginPath();const s=n.map(([m,u])=>[t*(m-l)+5,o*(u-c)+5]);for(const[m,u]of s)r.lineTo(m,d-u);r.stroke()}function j(r){const e=D.value.trim().split(`
`).map(n=>n.split(",").map(l=>+l.trim())).filter(n=>n.length===2);e.length<3||z(r,e)}Q.addEventListener("click",()=>{j(x)});U.addEventListener("click",()=>{let r=+$.value;(r<3||Number.isNaN(r))&&(r=200);const e=[...Array(r)].map(()=>[g(0,d),g(0,d)]);z(x,e)});$.value="200";const V=5,v=[...Array(1<<V).keys()];D.textContent=v.flatMap(r=>v.map(e=>[r,e].join(","))).join(`
`);j(x);const S=document.getElementById("colors-original"),L=document.getElementById("colors-sorted"),k=document.getElementById("colors-input"),X=document.getElementById("colors-set"),F=document.getElementById("colors-number"),Y=document.getElementById("colors-random"),h=document.documentElement.clientWidth,y=100;S.width=h;L.width=h;S.height=y;L.height=y;const b=S.getContext("2d"),E=L.getContext("2d");if(!b||!E)throw new Error("missing canvas context");function W(r,e,n){const l=T(n),i=h/n.length;r.clearRect(0,0,h,y);for(let c=0;c<n.length;c++){const[a,t,o]=n[c].map(s=>s.toFixed(2));r.fillStyle=`rgb(${a} ${t} ${o})`,r.fillRect(c*i,0,i+1,y)}e.clearRect(0,0,h,y);for(let c=0;c<l.length;c++){const[a,t,o]=l[c].map(s=>s.toFixed(2));e.fillStyle=`rgb(${a} ${t} ${o})`,e.fillRect(c*i,0,i+1,y)}}function q(r,e){const n=k.value.trim().split(`
`).map(l=>l.split(",").map(i=>+i.trim())).filter(l=>l.length===3);n.length<3||W(r,e,n)}X.addEventListener("click",()=>{q(b,E)});Y.addEventListener("click",()=>{let r=+F.value;(r<3||Number.isNaN(r))&&(r=100);const e=[...Array(r)].map(()=>[g(0,255),g(0,255),g(0,255)]);W(b,E,e)});F.value="100";const C=32,N=[...Array(Math.ceil(255/C)).keys()].map(r=>r*C);k.textContent=N.flatMap(r=>N.flatMap(e=>N.map(n=>[r,e,n].join(",")))).join(`
`);q(b,E);
