(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}})();function p(e,r){let o=1/0,l=-1/0;for(const i of e){const c=i[r];if(c<o){o=c;continue}c>l&&(l=c)}return[o,l]}function K(e){const[r,o]=p(e,0),[l,i]=p(e,1),c=o-r,a=i-l,t=Math.max(c,a),n=t===0||c===0?1:t/c,s=t===0||a===0?1:t/a,m=e.map(([u,f])=>[n*(u-r),s*(f-l)]);return P(m,t).map(([u,f])=>[u/n+r,f/s+l])}function T(e){const[r,o]=p(e,0),[l,i]=p(e,1),[c,a]=p(e,2),t=o-r,n=i-l,s=a-c,m=Math.max(t,n,s),u=m===0||t===0?1:m/t,f=m===0||n===0?1:m/n,C=m===0||s===0?1:m/s,H=e.map(([I,N,S])=>[u*(I-r),f*(N-l),C*(S-c)]);return R(H,m).map(([I,N,S])=>[I/u+r,N/f+l,S/C+c])}function z(e){return[...Array(1<<e).keys()].map(r=>r^r>>1)}const G=z(2),J=z(3);function P(e,r){if(e.length<2||new Set(e.map(String)).size===1)return e;const o=r/2,l={0:([t,n])=>[n,t],1:([t,n])=>[t,n-o],3:([t,n])=>[t-o,n-o],2:([t,n])=>[o-n,r-t]},i={0:([t,n])=>[n,t],1:([t,n])=>[t,n+o],3:([t,n])=>[t+o,n+o],2:([t,n])=>[r-n,o-t]},c=[[],[],[],[]];for(const t of e){const n=+(t[0]>o),s=+(t[1]>o),m=(n<<1)+s;c[m].push(t)}const a=c.map((t,n)=>P(t.map(l[n]),o));return G.flatMap(t=>a[t].map(i[t]))}function R(e,r){if(e.length<2||new Set(e.map(String)).size===1)return e;const o=r/2,l={0:([t,n,s])=>[s,t,n],1:([t,n,s])=>[n,s-o,t],3:([t,n,s])=>[n-o,s-o,t],2:([t,n,s])=>[t,r-n,o-s],6:([t,n,s])=>[t-o,r-n,o-s],7:([t,n,s])=>[r-n,s-o,r-t],5:([t,n,s])=>[o-n,s-o,r-t],4:([t,n,s])=>[o-s,r-t,n]},i={0:([t,n,s])=>[n,s,t],1:([t,n,s])=>[s,t,n+o],3:([t,n,s])=>[s,t+o,n+o],2:([t,n,s])=>[t,r-n,o-s],6:([t,n,s])=>[t+o,r-n,o-s],7:([t,n,s])=>[r-s,r-t,n+o],5:([t,n,s])=>[r-s,o-t,n+o],4:([t,n,s])=>[r-n,s,o-t]},c=[[],[],[],[],[],[],[],[]];for(const t of e){const n=+(t[0]>o),s=+(t[1]>o),m=+(t[2]>o),u=(n<<2)+(s<<1)+m;c[u].push(t)}const a=c.map((t,n)=>R(t.map(l[n]),o));return J.flatMap(t=>a[t].map(i[t]))}function g(e,r){return Math.random()*(r-e)+e}const B=document.getElementById("points-canvas"),A=document.getElementById("points-input"),Q=document.getElementById("points-set"),$=document.getElementById("points-number"),U=document.getElementById("points-random"),d=document.documentElement.clientWidth*.35;B.width=d;B.height=d;const x=B.getContext("2d");if(!x)throw new Error("missing canvas context");function j(e,r){const o=K(r),[l,i]=p(o,0),[c,a]=p(o,1),t=(d-10)/(i-l),n=(d-10)/(a-c);e.clearRect(0,0,d,d),e.beginPath();const s=o.map(([m,u])=>[t*(m-l)+5,n*(u-c)+5]);for(const[m,u]of s)e.lineTo(m,d-u);e.stroke()}function D(e){const r=A.value.trim().split(`
`).map(o=>o.split(",").map(l=>+l.trim())).filter(o=>o.length===2);r.length<3||j(e,r)}Q.addEventListener("click",()=>{D(x)});U.addEventListener("click",()=>{let e=+$.value;(e<2||Number.isNaN(e))&&(e=200);const r=[...Array(e)].map(()=>[g(0,d),g(0,d)]);j(x,r)});$.value="200";const V=5,L=[...Array(1<<V).keys()];A.textContent=L.flatMap(e=>L.map(r=>[e,r].join(","))).join(`
`);D(x);const v=document.getElementById("colors-original"),M=document.getElementById("colors-sorted"),k=document.getElementById("colors-input"),X=document.getElementById("colors-set"),F=document.getElementById("colors-number"),Y=document.getElementById("colors-random"),h=document.documentElement.clientWidth,y=100;v.width=h;M.width=h;v.height=y;M.height=y;const b=v.getContext("2d"),E=M.getContext("2d");if(!b||!E)throw new Error("missing canvas context");function W(e,r,o){const l=T(o),i=h/o.length;e.clearRect(0,0,h,y);for(let c=0;c<o.length;c++){const[a,t,n]=o[c].map(s=>s.toFixed(2));e.fillStyle=`rgb(${a} ${t} ${n})`,e.fillRect(c*i,0,i+1,y)}r.clearRect(0,0,h,y);for(let c=0;c<l.length;c++){const[a,t,n]=l[c].map(s=>s.toFixed(2));r.fillStyle=`rgb(${a} ${t} ${n})`,r.fillRect(c*i,0,i+1,y)}}function q(e,r){const o=k.value.trim().split(`
`).map(l=>l.split(",").map(i=>+i.trim())).filter(l=>l.length===3);o.length<3||W(e,r,o)}X.addEventListener("click",()=>{q(b,E)});Y.addEventListener("click",()=>{let e=+F.value;(e<2||Number.isNaN(e))&&(e=100);const r=[...Array(e)].map(()=>[g(0,255),g(0,255),g(0,255)]);W(b,E,r)});F.value="100";const O=32,w=[...Array(Math.ceil(255/O)).keys()].map(e=>e*O);k.textContent=w.flatMap(e=>w.flatMap(r=>w.map(o=>[e,r,o].join(",")))).join(`
`);q(b,E);
