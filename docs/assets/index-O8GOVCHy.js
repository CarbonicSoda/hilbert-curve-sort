(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}})();function p(e,s){let o=1/0,l=-1/0;for(const i of e){const c=i[s];if(c<o){o=c;continue}c>l&&(l=c)}return[o,l]}function K(e){const[s,o]=p(e,0),[l,i]=p(e,1),c=o-s,a=i-l,t=Math.max(c,a),n=t===0||c===0?1:t/c,r=t===0||a===0?1:t/a,m=e.map(([u,f])=>[n*(u-s),r*(f-l)]);return P(m,t).map(([u,f])=>[u/n+s,f/r+l])}function T(e){const[s,o]=p(e,0),[l,i]=p(e,1),[c,a]=p(e,2),t=o-s,n=i-l,r=a-c,m=Math.max(t,n,r),u=m===0||t===0?1:m/t,f=m===0||n===0?1:m/n,L=m===0||r===0?1:m/r,H=e.map(([I,S,w])=>[u*(I-s),f*(S-l),L*(w-c)]);return R(H,m).map(([I,S,w])=>[I/u+s,S/f+l,w/L+c])}function C(e){return[...Array(1<<e).keys()].map(s=>s^s>>1)}function P(e,s){if(e.length<2||new Set(e.map(String)).size===1)return e;const o=s/2,l={0:([t,n])=>[n,t],1:([t,n])=>[t,n-o],3:([t,n])=>[t-o,n-o],2:([t,n])=>[o-n,s-t]},i={0:([t,n])=>[n,t],1:([t,n])=>[t,n+o],3:([t,n])=>[t+o,n+o],2:([t,n])=>[s-n,o-t]},c=[[],[],[],[]];for(const t of e){const n=+(t[0]>o),r=+(t[1]>o),m=(n<<1)+r;c[m].push(t)}const a=c.map((t,n)=>P(t.map(l[n]),o));return C(2).flatMap(t=>a[t].map(i[t]))}function R(e,s){if(e.length<2||new Set(e.map(String)).size===1)return e;const o=s/2,l={0:([t,n,r])=>[r,t,n],1:([t,n,r])=>[n,r-o,t],3:([t,n,r])=>[n-o,r-o,t],2:([t,n,r])=>[t,s-n,o-r],6:([t,n,r])=>[t-o,s-n,o-r],7:([t,n,r])=>[s-n,r-o,s-t],5:([t,n,r])=>[o-n,r-o,s-t],4:([t,n,r])=>[o-r,s-t,n]},i={0:([t,n,r])=>[n,r,t],1:([t,n,r])=>[r,t,n+o],3:([t,n,r])=>[r,t+o,n+o],2:([t,n,r])=>[t,s-n,o-r],6:([t,n,r])=>[t+o,s-n,o-r],7:([t,n,r])=>[s-r,s-t,n+o],5:([t,n,r])=>[s-r,o-t,n+o],4:([t,n,r])=>[s-n,r,o-t]},c=[[],[],[],[],[],[],[],[]];for(const t of e){const n=+(t[0]>o),r=+(t[1]>o),m=+(t[2]>o),u=(n<<2)+(r<<1)+m;c[u].push(t)}const a=c.map((t,n)=>R(t.map(l[n]),o));return C(3).flatMap(t=>a[t].map(i[t]))}function g(e,s){return Math.random()*(s-e)+e}const N=document.getElementById("points-canvas"),A=document.getElementById("points-input"),G=document.getElementById("points-set"),$=document.getElementById("points-number"),J=document.getElementById("points-random"),d=document.documentElement.clientWidth*.35;N.width=d;N.height=d;const x=N.getContext("2d");if(!x)throw new Error("missing canvas context");function j(e,s){const o=K(s),[l,i]=p(o,0),[c,a]=p(o,1),t=(d-10)/(i-l),n=(d-10)/(a-c);e.clearRect(0,0,d,d),e.beginPath();const r=o.map(([m,u])=>[t*(m-l)+5,n*(u-c)+5]);for(const[m,u]of r)e.lineTo(m,d-u);e.stroke()}function D(e){const s=A.value.trim().split(`
`).map(o=>o.split(",").map(l=>+l.trim())).filter(o=>o.length===2);s.length<3||j(e,s)}G.addEventListener("click",()=>{D(x)});J.addEventListener("click",()=>{let e=+$.value;(e<3||Number.isNaN(e))&&(e=200);const s=[...Array(e)].map(()=>[g(0,d),g(0,d)]);j(x,s)});$.value="200";const Q=5,O=[...Array(1<<Q).keys()];A.textContent=O.flatMap(e=>O.map(s=>[e,s].join(","))).join(`
`);D(x);const v=document.getElementById("colors-original"),M=document.getElementById("colors-sorted"),k=document.getElementById("colors-input"),U=document.getElementById("colors-set"),F=document.getElementById("colors-number"),V=document.getElementById("colors-random"),h=document.documentElement.clientWidth,y=100;v.width=h;M.width=h;v.height=y;M.height=y;const b=v.getContext("2d"),E=M.getContext("2d");if(!b||!E)throw new Error("missing canvas context");function W(e,s,o){const l=T(o),i=h/o.length;e.clearRect(0,0,h,y);for(let c=0;c<o.length;c++){const[a,t,n]=o[c].map(r=>r.toFixed(2));e.fillStyle=`rgb(${a} ${t} ${n})`,e.fillRect(c*i,0,i+1,y)}s.clearRect(0,0,h,y);for(let c=0;c<l.length;c++){const[a,t,n]=l[c].map(r=>r.toFixed(2));s.fillStyle=`rgb(${a} ${t} ${n})`,s.fillRect(c*i,0,i+1,y)}}function q(e,s){const o=k.value.trim().split(`
`).map(l=>l.split(",").map(i=>+i.trim())).filter(l=>l.length===3);o.length<3||W(e,s,o)}U.addEventListener("click",()=>{q(b,E)});V.addEventListener("click",()=>{let e=+F.value;(e<3||Number.isNaN(e))&&(e=100);const s=[...Array(e)].map(()=>[g(0,255),g(0,255),g(0,255)]);W(b,E,s)});F.value="100";const z=32,B=[...Array(Math.ceil(255/z)).keys()].map(e=>e*z);k.textContent=B.flatMap(e=>B.flatMap(s=>B.map(o=>[e,s,o].join(",")))).join(`
`);q(b,E);
